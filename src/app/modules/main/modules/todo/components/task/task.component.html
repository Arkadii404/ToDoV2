<mat-card class="task" [ngClass]="{'isDone': task.isDone}">
    <mat-card-header class="task__header">
        <mat-card-title *ngIf="!isEditMode">{{ task?.title }}</mat-card-title>
        <mat-card-title *ngIf="isEditMode">
            <mat-form-field appearance="standard">
                <input matInput type="text" value="{{ task?.title }}" [(ngModel)]="task.title" class="title-input"
                    [formControl]="title">
            </mat-form-field>
        </mat-card-title>
        <mat-card-actions class="task__tools">
            <div class="task__checkbox" *ngIf="!isEditMode">
                <mat-checkbox [checked]="task?.isDone" (input)="done()"></mat-checkbox>
            </div>
            <button mat-icon-button *ngIf="!isEditMode" (click)="toggleEditMode()">
                <mat-icon class="task__icon">edit</mat-icon>
            </button>
            <button mat-icon-button *ngIf="isEditMode" (click)="change()" [disabled]="title.invalid">
                <mat-icon class="task__icon">done</mat-icon>
            </button>
            <button mat-icon-button (click)="remove()" *ngIf="!isEditMode">
                <mat-icon class="task__icon">delete</mat-icon>
            </button>
        </mat-card-actions>
    </mat-card-header>
    <mat-card-content *ngIf="!isEditMode">
        {{ task?.message }}
    </mat-card-content>
    <mat-card-content *ngIf="isEditMode">
        <mat-form-field appearance="standard">
            <textarea matInput value="{{ task?.message }}" [(ngModel)]="task.message" class="title-input"
                [formControl]="message"></textarea>
        </mat-form-field>
    </mat-card-content>
</mat-card>